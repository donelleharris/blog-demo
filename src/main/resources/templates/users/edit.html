<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="partials/head :: head('Update Profile')">
    <meta charset="UTF-8">
    <title>Update Profile</title>
</head>
<body>
<nav th:replace="partials/navbar :: nav"></nav>
<header th:replace="partials/header :: header('Update Profile')"></header>

<div class="container" id="inputForm" sec:authorize="isAuthenticated()">
    <h4>Update User:</h4>
    <form th:action="@{'/user/' + ${userToEdit.id} +'/edit'}" method="POST" th:object="${user}">
        <input type="text" th:field="${userToEdit.id}" th:value="${userToEdit.id}" name="userId">
            <div class="w-100">
                <p>User: <span th:text="${userToEdit.firstName}"></span> <span th:text="${userToEdit.lastName}"></span></p>
                <label for="firstName">First Name:</label>
                <input id="firstName" type="text" th:field="${userToEdit.firstName}" th:value="${userToEdit.firstName}" name="firstName">
                <br />
                <label for="lastName">Last Name:</label>
                <input id="lastName" type="text" th:field="${userToEdit.lastName}" th:value="${userToEdit.lastName}"  name="lastName">
                <br />
            </div>

        <div class="w-100">
            <label for="email">Email:</label>
            <input id="email" type="text" th:field="${userToEdit.email}" th:value="${userToEdit.email}" name="email">
            <br />
        </div>

        <div class="w-100">
            <label for="username">Username:</label>
            <input id="username" type="text" th:field="${userToEdit.username}" th:value="${userToEdit.username}" name="username">
            <br />
        </div>

        <div class="w-100" >
            <label for="password">Password:</label>
            <input id="password" type="password" th:field="${userToEdit.password}" th:value="${userToEdit.password}" name="password">
            <br />
        </div>
        <input type="submit" value="Update"/>
    </form>
    <br />
    <br />
    <p class="text-danger">Delete account is permanent</p>
    <form th:action="@{'/user/' + ${userToEdit.id} +'/delete'}" method="POST" th:object="${user}">
        <input type="submit" value="Delete User Account">
    </form>

</div>

<div th:include="partials/footer :: footer"></div>
<div th:include="partials/scripts :: scripts"></div>
</body>
</html>